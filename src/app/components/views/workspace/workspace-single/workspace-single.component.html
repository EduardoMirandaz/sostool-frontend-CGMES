<!-- WORKSPACE NAME HERO -->
<section class="hero-workspace is-small is-primary">
  <div class="hero-body">
    <p class="title">
      {{this.workspaceName}}
    </p>
    <div class="buttons">
      <button class="button is-primary" (click)="toggleModal(addRoleModal)">+ Create Role</button>
      <button class="button is-primary">+ Create Responsability</button>
      <button class="button is-primary">View Roles</button>
    </div>
  </div>
</section>
<hr class="rounded">

<!-- TEAM PAGE  NAME AND BUTTON HERO -->
<section class="hero1 is-small is-primary" *ngIf="this.teamsArray.length>0 && !this.firstLoad" >
  <div class="hero-body">
    <p class="title">
      {{this.teamsArray[this.selectedTeam].name}}
    </p>
    <div class="buttons">
      <button class="button is-link" (click)="toggleModal(assignRoleToTeamModal)">+ Add Role to Team</button>
      <button class="button is-danger" (click)="deleteTeamInWorkspace(this.teamsArray[this.selectedTeam].id)">Delete Team</button>
    </div>
  </div>
</section>

<!-- TEAM TAB HERO -->
<section class="hero is-fullheight">
  <div class="hero-body" *ngIf="!this.firstLoad">
    <div class="container has-text-centered" *ngIf="this.teamsArray.length>0">
      <p class="subtitle"*ngIf="this.teamsArray[this.selectedTeam].teamAssignedRoles.length <= 0">
        This is the {{this.teamsArray[this.selectedTeam].name}} team page!
        <br>
        It has no roles yet.
      </p>
      <div class="container has-text-centered" *ngIf="this.teamsArray[this.selectedTeam].teamAssignedRoles.length > 0">
        <app-team-view [teamAssignedRoles]="this.teamsArray[this.selectedTeam].teamAssignedRoles"></app-team-view>
      </div>
    </div>
    <div class="container has-text-centered" *ngIf="this.teamsArray.length<=0">
      <p class="title">
        This Project has no teams!
      </p>
      <p class="subtitle">
        Why dont you create one?
      </p>
    </div>
  </div>


  <div class="hero-body" *ngIf="this.firstLoad">
    <div class="container has-text-centered">
      <p class="title" *ngIf="this.teamsArray.length<=0"> This workspace has no teams yet! </p>
      <p class="subtitle" *ngIf="this.teamsArray.length<=0"> You should start by creating one with the button below</p>
      <p class="title" *ngIf="this.teamsArray.length>0"> No team selected!</p>
      <p class="subtitle" *ngIf="this.teamsArray.length>0"> You can select one of the options below</p>
    </div>
  </div>


  <!-- TABS -->
  <div class="hero-foot">
    <nav class="tabs is-centered is-boxed is-medium">
      <div class="container">
        <ul #tabs>
          <li class="tab" *ngFor="let team of teamsArray; let i = index;" (click)="selectTeam(i,tabs)">
            <a class="names">{{team.name}}</a>
          </li>
          <li class="add-team-tab" (click)="toggleModal(addTeamModal)">
            <a>
              <span> + Add Team </span>
            </a>
          </li>
        </ul>
      </div>
    </nav>
  </div>
</section>

<!-- MODAL TO CREATE A NEW ROLE IN THIS WORKSPACE -->
<div class="modal is-dark" #addRoleModal>
  <div class="modal-background is-dark"></div>
  <div class="modal-card is-dark">
    <header class="modal-card-head is-dark">
      <p class="modal-card-title">Add New Role</p>
      <button class="delete" aria-label="close" (click)="toggleModal(addRoleModal)"></button>
    </header>
    <section class="modal-card-body">
      <!-- MODAL CONTENT -->
      <div class="field">
        <label class="label">Name</label>
        <div class="control">
          <input class="input" type="text" placeholder="e.g Software Engineer" #roleName>
        </div>
      </div>

      <div class="field">
        <label class="label">Description</label>
        <div class="control">
          <input class="input" type="text" placeholder="e.g. Description of a Software Engineer" #roleDesc>
        </div>
      </div>

      <label class="label">Choose a Model Role</label>
      <div class="select">
        <select #modelRoleSelection>
          <option *ngFor="let modelRole of modelRoles;">
            {{modelRole.name}}
          </option>
        </select>
      </div>

      <button class="button is-link" (click)="copyModelRole(modelRoleSelection.value, roleName, roleDesc)"> Confirm Selection </button>
       <!-- MODAL CONTENT -->
    </section>
    <footer class="modal-card-foot">
      <button class="button is-link" (click)="createRoleInWorkspace(roleName.value, roleDesc.value, addRoleModal)" >Create Role</button>
      <button class="button is-link is-light" (click)="toggleModal(addRoleModal)" >Cancel</button>
    </footer>
  </div>
</div>

<!-- MODAL TO ADD SOME ROLE TO A TEAM!-->
<div class="modal is-dark" #assignRoleToTeamModal>
  <div class="modal-background is-dark"></div>
  <div class="modal-card is-dark">
    <header class="modal-card-head is-dark">
      <p class="modal-card-title">Assign a Role to a Team</p>
      <button class="delete" aria-label="close" (click)="toggleModal(assignRoleToTeamModal)"></button>
    </header>
    <section class="modal-card-body">
      <!-- MODAL CONTENT -->
      <label class="label">Choose which role will be assigned </label>
      <div class="select">
        <select #RoleSelection>
          <option *ngFor="let role of workspaceRoles;">
            {{role.name}}
          </option>
        </select>
      </div>
       <!-- MODAL CONTENT -->
    </section>
    <footer class="modal-card-foot">
      <button class="button is-link"(click)="assignRoleToTeam(RoleSelection.value, assignRoleToTeamModal, tabs)">Assign Role</button>
      <button class="button is-link is-light" (click)="toggleModal(assignRoleToTeamModal)" >Cancel</button>
    </footer>
  </div>
</div>

<!-- MODAL TO CREATE A NEW TEAM IN THIS WORKSPACE -->
<div class="modal is-dark" #addTeamModal>
  <div class="modal-background is-dark"></div>
  <div class="modal-card is-dark">
    <header class="modal-card-head is-dark">
      <p class="modal-card-title">Add New Team</p>
      <button class="delete" aria-label="close" (click)="toggleModal(addTeamModal)"></button>
    </header>
    <section class="modal-card-body">
      <!-- MODAL CONTENT -->
      <div class="field">
        <label class="label">Name</label>
        <div class="control">
          <input class="input" type="text" placeholder="e.g Software Engineer" #teamName>
        </div>
      </div>
       <!-- MODAL CONTENT -->
    </section>
    <footer class="modal-card-foot">
      <button class="button is-link" (click)="createTeamInWorkspace(teamName.value, addTeamModal)" >Create Team</button>
      <button class="button is-link is-light" (click)="toggleModal(addTeamModal)">Cancel</button>
    </footer>
  </div>
</div>


